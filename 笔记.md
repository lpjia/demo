# 浮动

视觉格式化模型, 大体上将页面中盒子的排列分为三种方式:

1. 常规流
2. 浮动 float
3. 定位

## 应用场景

1. 文字环绕
2. 横向排列

## 浮动的基本特点

修改float属性值为:

- left: 左浮动, 元素靠上靠左
- right: 右浮动, 元素靠上靠右

默认值为none

1. 当一个元素浮动后, 元素必定为块盒(更改display为block)
2. 浮动元素的包含块, 和常规流一样, 为父元素的内容盒(content-box)

## 盒子尺寸

1. 宽度为auto时, 适应内容宽度
2. 高度为auto时, 与常规流一致, 适应内容的高度
3. margin为auto, 为0
4. 边框、内边距、百分比设置与常规流一样

## 盒子排列

1. 左浮动的盒子靠上靠左排列
2. 右浮动的盒子靠上靠右排列
3. 浮动盒子在包含块中排列时, 会避开常规流块盒
4. 常规流块盒在排列时, 无视浮动盒子
5. 行盒在排列时, 会避开浮动盒子

> 如果文字没有在行盒中, 浏览器会自动生成一个行盒包裹文字, 该行盒叫匿名行盒

## 高度坍塌

高度坍塌的根源: 常规流盒子的自动高度, 在计算时, 不会考虑浮动盒子

清除浮动, 涉及css属性: clear

- 默认值: none
- left: 清除左浮动, 该元素必须出现在前面所有左浮动盒子的下方
- right: 清除右浮动, 该元素必须出现在前面所有右浮动盒子的下方
- both: 清除左右浮动, 该元素必须出现在前面所有浮动盒子的下方



# 定位

视觉格式化模型, 大体上将页面中盒子的排列分为三种方式:

1. 常规流
2. 浮动
3. 定位 position

定位: 手动控制元素在包含块中的精准位置

涉及的css属性: position


## position属性

- 默认值: static, 静态定位(不定位)
- relative: 相对定位
- absolute: 绝对定位
- fixed: 固定定位

一个元素, 只要position的取值不是static, 认为该元素是一个定位元素

定位元素会脱离文档流(相对定位除外)

一个脱离了文档流的元素:

1. 文档流中的元素摆放时, 会忽略脱离了文档流的元素
2. 文档流中元素计算自动高度时, 会忽略脱离了文档流的元素


## 相对定位

不会导致元素脱离文档流, 只是让元素在原来位置上进行偏移

可以通过四个css属性设置其位置:

- left
- right
- top
- bottom

只有定位元素设置这些才有效


## 绝对定位

1. 宽高为auto, 适应内容
2. 包含块变化: 找祖先中第一个定位元素, 该元素的填充盒为其包含块。 若找不到, 则它的包含块为整个网页（初始化包含块）





## 定位下的居中

1. 定宽（高）
2. 将左右（上下）距离设置为0
3. 将左右（上下）margin设置为auto

绝对定位和固定定位中, margin为auto时, 会自动吸收剩余空间




## 多个定位元素重叠时

堆叠上下文

设置z-index, 通常情况下, 该值越大, 越靠近用户

只有定位元素设置z-index有效

z-index可以是负数, 如果是负数, 则遇到常规流、浮动元素, 则会被其覆盖



## 补充

- 绝对定位、固定定位元素一定是块盒
- 绝对定位、固定定位元素一定不是浮动
- 没有外边距合并




# 更多的选择器

## 更多伪类选择器

1. first-child

选择第一个子元素

first-of-type, 选中子元素中第一个指定类型的元素

2. last-child

last-of-type

3. nth-child

选中指定的第几个子元素

even: 关键字, 等同于2n
odd: 关键字, 等同于2n+1

4. nth-of-type

选中指定的子元素中第几个某类型的元素


## 更多的伪元素选择器

1. first-letter

选中元素中的第一个字母(中文就是第一个汉字)

2. first-line

选中元素中的第一行的文字(始终选择, 不管怎么变)

3. selection

选中被用户框选的文字

# 更多的样式

## 透明度

1. opacity, 它设置的是整个元素的透明(包括里面的内容和子元素等所有东西都会变), 它的取值是0~1, 0是没有 1是有
2. 在颜色位置设置alpha通道(rgba() 背景色 边框色 字体颜色等)

## 鼠标

使用cursor设置

自定义图标 cursor: url('xxx.icon'), auto; auto表示当浏览器不支持自定义图标时, 使用默认

## 盒子隐藏

1. display: none; 不生成盒子
2. visibility: hidden; 生成盒子, 只是从视觉上移除盒子, 盒子仍占据空间

## 背景图

img元素是属于HTML的概念

背景图属于css的概念

1. 当图片属于网页内容时, 必须使用img元素
2. 当图片仅用于美化页面时, 必须使用背景图

### 涉及的css属性

1. background-image

background-image: url('')

2. background-repeat

background-repeat: no-repeat/repeat-x/repeat-y/repeat 默认

默认情况下, 背景图会在X Y中进行重复

3. background-size

background-size: auto auto; 默认

预设值: container、cover, 类似于 object-fit

数值 百分比

4. background-position

设置背景图的位置

预设值: left、bottom、right、top、center

数值 百分比

雪碧图(精灵图), 一般用px来控制

5. background-attachment

通常用它控制背景图是否固定

6. 背景图和背景颜色混用

