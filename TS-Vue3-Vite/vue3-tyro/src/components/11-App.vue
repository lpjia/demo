<script setup lang="ts">
import { watch, computed } from 'vue'
import {
  useLocalStorage, useMouse, usePreferredDark,
  useTitle, useDark, debounceFilter,
  throttleFilter
} from '@vueuse/core'
// ä½¿ç”¨vueuse


// const { x, y } = useMouse()

// const isDark = usePreferredDark()

const store = useLocalStorage(
  'my-storage',
  {
    name: 'Apple',
    color: 'red',
  },
)

// // æ”¹æŸä¸€å±æ€§å€¼
// store.value.color = 'deepskyblue'

// // ç›´æ¥æŠŠstoreæ¸…ç©º, localStorageä¹Ÿä¼šåˆ é™¤keyæ˜¯my-storageçš„è¿™ä¸€é¡¹
// store.value = null

// // é‡æ–°ç»™storeèµ‹å€¼
// setTimeout(() => store.value = { name: 'sky', color: 'deepskyblue' }, 1000)


// // watch, isDarkæ˜¯ref
// const isDark = useDark()
// const title = useTitle('Set title')
// watch(isDark, () => {
//   console.log('watch: isDark')
//   title.value = isDark.value ? 'ğŸŒ™ Good evening!' : 'â˜€ï¸ Good morning!'
// },
//   // { immediate: true }
// )

// // computed, isDarkæ˜¯ref
// const title = computed(() => isDark.value ? 'ğŸŒ™ Good evening!' : 'â˜€ï¸ Good morning!')
// useTitle(title)

// // å°†â€œReactive Getterâ€ä½œä¸ºå‚æ•°ä¼ é€’
// const title = useTitle(() => isDark.value ? 'ğŸŒ™ Good evening!' : 'â˜€ï¸ Good morning!')

// äº‹ä»¶è¿‡æ»¤å™¨ï¼Œä»¥çµæ´»åœ°æ§åˆ¶ä½•æ—¶è§¦å‘äº‹ä»¶
const { x, y } = useMouse({ eventFilter: debounceFilter(1000) })

</script>

<template>
  <div>pos: {{ x }}, {{ y }}</div>
  <!-- <div>{{ isDark }}</div> -->
  <div>{{ store }}</div>
  <div>{{ store.color }}</div>
  <!-- <div>{{ title }}</div> -->
</template>