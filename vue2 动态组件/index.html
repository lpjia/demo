<!DOCTYPE html>
<html lang="zh">

<head>
  <title>vue2 动态组件</title>
  <link rel="stylesheet" type="text/css" href="../global/global.css" />
  <link rel="stylesheet" type="text/css" href="style.css" />
</head>

<body>
  <div id="dynamic-component-demo">
    <button v-for="tab in tabs" v-bind:key="tab" v-bind:class="['tab-button', { active: currentTab === tab }]"
      v-on:click="currentTab = tab">
      {{ tab }}
    </button>

    <keep-alive>
      <component v-bind:is="currentTabComponent" class="tab"></component>
    </keep-alive>

    <div class="up_down">
      <component :is="currLocalComp" :prop_count="100"></component>
    </div>
    <!-- 渲染动态组件, 效果类似于下面两个, 可以传入自定义属性 -->
    <!-- <button-counter :prop_count="100"></button-counter> -->
    <!-- <button-counter-minus :prop_count="100"></button-counter-minus> -->

    <div class="up_down">
      缓存动态组件, 不被销毁
      <keep-alive>
        <component :is="currLocalComp" :prop_count="100"></component>
      </keep-alive>
    </div>

    <div class="up_down">
      缓存部分动态组件, 不被销毁
      <!-- 这里不能用组件名去正则匹配, 因为都能匹配上, 加个 name 来区分吧 -->
      <!-- <keep-alive :include="/button-counter/"> -->

      <!-- 根据 name 来区分 -->
      <!-- <keep-alive :include="/add/"> -->

      <!-- 数组 -->
      <!-- <keep-alive :include="['button-counter']"> -->

      <!-- 字符串, 不用绑定, 多个以逗号隔开 -->
      <keep-alive include="button-counter">
        <component :is="currLocalComp" :prop_count="100"></component>
      </keep-alive>
    </div>

    <div class="up_down">
      不缓存部分动态组件
      <keep-alive exclude="button-counter">
        <component :is="currLocalComp" :prop_count="100"></component>
      </keep-alive>
    </div>


  </div>

  <script src="../lib/vue@2.6.12.js" type="text/javascript" charset="utf-8"></script>
  <script src="index.js"></script>
</body>

</html>