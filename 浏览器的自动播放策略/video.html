<!doctype html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>自动播放</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      display: flex;
      justify-content: center;
    }

    .box {
      position: relative;
    }

    video {
      /* 作为子元素, 撑开了父容器的高度 */
      width: 800px;
      height: 600px;
    }

    .modal {
      position: absolute;
      top: 0;
      /* video元素撑开了父容器的高度, 然后高度百分比就起作用了, 否则高度在这为0 */
      width: 100%;
      height: 100%;
      background-color: rgb(0, 0, 0, .3);
    }

    .box button {
      width: 80px;
      height: 40px;
      position: absolute;
      top: 50%;
      left: 50%;
      border: none;
      background-color: rgb(61, 196, 230);
      transform: translate(-50%);
      color: #fff;
      border-radius: 10px;
    }

    .box button:hover {
      cursor: pointer;
    }
  </style>
</head>

<body>
  <!-- 
    Chrome 浏览器的视频自动播放策略
    1.始终允许静音模式下自动播放
    2.在以下的情况中，带声音播放会被允许：
      ①用户已经与当前的域进行了交互（也就是click，tap事件）。
      ②在桌面设备上，用户的媒体参与度指数阈值已经超过，这意味着用户之前播放过有声视频。
      ③用户已经将网站添加到移动设备上的主屏幕或允在桌面上安装了PWA。
    3.顶部帧可以将自动播放权限委派给其iframe，来允许自动播放声音
    
    媒体参与度（Media Engagement）是指用户与媒体内容进行互动的程度，可以通过多个指标来衡量。这些指标主要包括观看时间、观看率、转化率、交互行为等。
    可以通过：chrome://media-engagement/ 查看
  -->

  <!-- https://blog.csdn.net/m0_64642443/article/details/131212842 -->

  <div class="box">
    <video id="video" src="autoplay.mp4" autoplay controls></video>
    <div class="modal">
      <button>开始播放</button>
    </div>
  </div>


  <!-- <script src="index.js"></script> -->
  <script src="index2.js"></script>
</body>

</html>